# Get Rollup Data
Script to get rollup data.

## Install
```
npm i
```

## Setup
- Config file `grantRole.json`:
  - `roleName`: 
      - "ADD_ROLLUP_TYPE_ROLE"
      - "OBSOLETE_ROLLUP_TYPE_ROLE"
      - "CREATE_ROLLUP_ROLE"
      - "ADD_EXISTING_ROLLUP_ROLE"
      - "UPDATE_ROLLUP_ROLE"
      - "TRUSTED_AGGREGATOR_ROLE"
      - "TRUSTED_AGGREGATOR_ROLE_ADMIN"
      - "SET_FEE_ROLE"
      - "STOP_EMERGENCY_ROLE"
      - "EMERGENCY_COUNCIL_ROLE"
  - `accountToGrantRole`: address to grantRole
  - `polygonRollupManagerAddress`: rollupManager address
  - `timelockDelay`: timelock delay
- A network should be selected when running the script
  - examples: `--network sepolia` or `--network mainnet`
  - This uses variables set in `hardhat.config.ts`
  - Which uses some environment variables that should be set in `.env`
> All paths are from root repository

## Usage
> All commands are done from root repository.

- Copy configuration file:
```
cp ./tools/grantRole/grantRole.json.example ./tools/grantRole/grantRole.json
```
- Set your parameters
- Run tool:
```
npx hardhat run tools/grantRole/grantRole.ts --network <network>
```
- Output:
  - `granRoleOutput.json`:
    ```
    {
      "scheduleData": "0x01d5062a000000000000000000000000a51c1fc2f0d1a1b8494ed1fe312d7c3a78ed91c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e1000000000000000000000000000000000000000000000000000000000000000442f2ff15dac75d24dbb35ea80e25fab167da4dea46c1915260426570db84f184891f5f590000000000000000000000000a51c1fc2f0d1a1b8494ed1fe312d7c3a78ed91c000000000000000000000000000000000000000000000000000000000",
      "executeData": "0x134008d3000000000000000000000000a51c1fc2f0d1a1b8494ed1fe312d7c3a78ed91c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000442f2ff15dac75d24dbb35ea80e25fab167da4dea46c1915260426570db84f184891f5f590000000000000000000000000a51c1fc2f0d1a1b8494ed1fe312d7c3a78ed91c000000000000000000000000000000000000000000000000000000000",
      "decodedScheduleData": {
       "target": "0xA51c1fc2f0D1a1b8494Ed1FE312d7C3a78Ed91C0",
       "value": "0",
       "data": "0x2f2ff15dac75d24dbb35ea80e25fab167da4dea46c1915260426570db84f184891f5f590000000000000000000000000a51c1fc2f0d1a1b8494ed1fe312d7c3a78ed91c0",
       "decodedData": {
        "role": "0xac75d24dbb35ea80e25fab167da4dea46c1915260426570db84f184891f5f590",
        "account": "0xA51c1fc2f0D1a1b8494Ed1FE312d7C3a78Ed91C0"
       },
       "predecessor": "0x0000000000000000000000000000000000000000000000000000000000000000",
       "salt": "0x0000000000000000000000000000000000000000000000000000000000000000",
       "delay": "3600"
      }
    }
    ```
